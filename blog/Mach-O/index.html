<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="JiHoonAHN Blog"/><link rel="canonical" href="https://blog.jihoon.me/blog/Mach-O"/><meta name="twitter:url" content="https://blog.jihoon.me/blog/Mach-O"/><meta name="og:url" content="https://blog.jihoon.me/blog/Mach-O"/><title>Mach-O | JiHoonAHN Blog</title><meta name="twitter:title" content="Mach-O | JiHoonAHN Blog"/><meta name="og:title" content="Mach-O | JiHoonAHN Blog"/><meta name="description" content="Studying Mach-O"/><meta name="twitter:description" content="Studying Mach-O"/><meta name="og:description" content="Studying Mach-O"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/static/styles/default_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/header_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/home_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/post_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/about_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/sectionPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/errorPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/footer_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tag_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tagDetail_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/pagination_style.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to JiHoonAHN Blog"/></head><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/><script src="https://kit.fontawesome.com/662f6d0c39.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/></head><body><header id="blog-head" class="blog-head outer"><div class="blog-head-inner inner"><div class="blog-head-brand"><div class="menu-icon-container"><div class="menu-icon"><span class="line-1"></span><span class="line-2"></span></div></div><a href="/" class="blog-head-logo"><img src="/static/images/Icon/icon.svg" alt="JiHoonAHN Blog"/></a><button class="blog-search blog-icon-btn"><i class="fa-solid fa-magnifying-glass"></i></button></div><nav class="blog-head-menu"><ul class="nav"><li><a href="/blog" class="nav-item">Blog</a></li><li><a href="/about" class="nav-item">About</a></li></ul></nav><div class="blog-head-action" id="docsearch"><button class="blog-search blog-icon-btn"><i class="fa-solid fa-magnifying-glass"></i></button></div></div><script src="/static/scripts/Header/header-scroll.js"></script><script src="/static/scripts/Header/header-menu.js"></script><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script></header><div class="wrapper"><article><header class="site-post-head"><div class="site-post-head-image" style="background-image: url(/static/images/Blog/blog/Mach-O.svg)"></div></header><div class="site-post-head-title"><h1>Mach-O</h1><section class="site-post-full-meta"><time>2022.10.23</time><span class="date-divider">|</span><a href="https://blog.jihoon.me/tags/swift">Swift. </a><a href="https://blog.jihoon.me/tags/theory">Theory. </a></section></div><div class="site-post-body"><div><p>오늘은 Mach-O에 대해서 배워볼 것입니다. 공부를 진행하는 도중 Mach-O에 대한 이야기가 많이 나오더라고요!</p><p>그래서 이번 기회에 깔끔하게 정리해보겠습니다!</p><p>일단 시작하겠습니다!</p><hr><h2>Mach-O</h2><p>Mach-O는 Apple OS에서 동작하는 컴파일된 프로그램에 대한 파일 포맷</p><ul><li>오브젝트 파일(.o)</li><li>동적 라이브러리(.dylib)</li><li>정적 라이브러리(.a)</li><li>번들 (.bundle)</li><li>커널 익스텐션(.kext)</li><li>그외 (Core Dump, Framework...등등)</li></ul><p>이런 파일 포맷들이 바로 Mach-O입니다..</p><p>그러면 Mach-O의 영역에 관해서 공부해봅시다.</p><h2>Mach-O 구조</h2><img width = 70%  src = "https://user-images.githubusercontent.com/68891494/202772719-547f0d38-83d5-4de0-aea8-1a6bb1133852.png"></img><p>애플 플랫폼에서 컴파일된 모든 것들은 다음과 같은 Mach-O 구조를 가집니다. (Header + Load Commands + Data)</p><hr><p>Header, Load Command, Segment Data 영역으로 나뉘어 있습니다.</p><p>하나씩 봐봅시다.</p><h2>Mach-O Header</h2><blockquote><p>해당 Program이 실행될 수 있는 CPU 아키텍처, Excutable의 타입, 헤더 다음에 오는 Load Command의 갯수.. 등의 정보가 담겨 있습니다.</p></blockquote><img width = 80% src = "https://blog.kakaocdn.net/dn/3Gzz1/btrwsJF7mtg/DMKukTeCJTFzV7mCq1jzH0/img.png"></img><p>예제를 봐봅시다.</p><p>DerivedData 폴더에 프로젝트에 대한 Executable 파일이 생성되어 있습니다.</p><img width = 100% src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fdq95D3%2Fbtrwp0IzNel%2Fm6lKteEfy9kNPXX5VNtmk0%2Fimg.png"></img><p>Mach-O 파일을 읽을 수 있게 otool이라는 Command Tool을 애플에서 제공합니다.</p><p>otool 만 작성하면 어떤 옵션이 있는지 알 수 있습니다.</p></div></div><script src="https://utteranc.es/client.js" repo="JiHoonAHN/Blog" issue-term="pathname" label="comments" theme="github-light" crossorigin="anonymous" async></script></article><script src="/static/scripts/Channel_talk/Channel_talk.js"></script></div><footer class="site-footer"><div class="site-footer__inner"><div class="copyright"><div><p>Copyright © <a href="https://github.com/jihoonahn">JiHoonAHN</a></p></div><div><p>Made with Swift</p></div></div><div class="social"><ul><li class="social_link"><a href="https://github.com/JiHoonAHN"><i class="fa-brands fa-github"></i></a></li><li class="social_link"><a href="https://stackoverflow.com/users/20336807/jihoonahn"><i class="fa-brands fa-stack-overflow"></i></a></li><li class="social_link"><a href="https://twitter.com/jihoon_dev"><i class="fa-brands fa-twitter"></i></a></li><li class="social_link"><a href="mailto:official@jihoon.me"><i class="fa-solid fa-envelope"></i></a></li></ul></div></div></footer></body></html>