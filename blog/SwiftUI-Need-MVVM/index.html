<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/><script src="https://kit.fontawesome.com/662f6d0c39.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/></head><head><meta charset="UTF-8"/><meta name="og:site_name" content="Jihoonahn Blog"/><link rel="canonical" href="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><meta name="twitter:url" content="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><meta name="og:url" content="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><title>SwiftUI에 MVVM이 필요할까요? | Jihoonahn Blog</title><meta name="twitter:title" content="SwiftUI에 MVVM이 필요할까요? | Jihoonahn Blog"/><meta name="og:title" content="SwiftUI에 MVVM이 필요할까요? | Jihoonahn Blog"/><meta name="description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="twitter:description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="og:description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/static/styles/default_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/header_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/about_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/post_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/sectionPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/errorPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/footer_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tag_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tagDetail_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/pagination_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/nextAndPreview_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/docsearch_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/home_style.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Jihoonahn Blog"/></head><body><header id="blog-head" class="blog-head outer"><div class="blog-head-inner inner"><div class="blog-head-brand"><div class="menu-icon-container"><div class="menu-icon"><span class="line-1"></span><span class="line-2"></span></div></div><a href="/" class="blog-head-logo"><img src="/static/images/Icon/icon.svg" alt="Jihoonahn Blog"/></a><div class="DocSearch-Button-container"><div id="docsearch" class="blog-search blog-icon-btn"></div></div></div><nav class="blog-head-menu"><ul class="nav"><li><a href="/blog" class="nav-item">Blog</a></li><li><a href="/series" class="nav-item">Series</a></li><li><a href="/about" class="nav-item">About</a></li></ul></nav></div><script src="/static/scripts/Header/header-scroll.js"></script><script src="/static/scripts/Header/header-menu.js"></script><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script type="text/javascript" src="/static/scripts/Doc_Search/DocSearch.js"></script></header><div class="wrapper"><article><header class="site-post-head"><div class="site-post-head-image" style="background-image: url(/static/images/Blog/blog/SwiftUI-Need-MVVM.svg)"></div></header><div class="site-post-head-title"><h1>SwiftUI에 MVVM이 필요할까요?</h1><section class="site-post-full-meta"><time>2022.09.21</time><span class="date-divider">|</span><a href="https://blog.jihoon.me/tags/swift">Swift. </a><a href="https://blog.jihoon.me/tags/architecture">Architecture. </a><a href="https://blog.jihoon.me/tags/swiftui">SwiftUI. </a><a href="https://blog.jihoon.me/tags/debate">Debate. </a></section></div><div class="site-post-body"><div><p><a href="https://developer.apple.com/forums/thread/699003">Stop using MVVM for SwiftUI</a></p><p><a href="https://qiita.com/karamage/items/8a9c76caff187d3eb838">「SwiftUIでMVVMを採用するのは止めよう」と思い至った理由 - Qiita</a></p><p>요즘에 주의 깊게 보고 있는 issue 입니다.</p><p>위 글을 보면 SwiftUI에서 MVVM 사용을 멈추자는 의견을 제시하고 있습니다.</p><p><a href="https://medium.com/@karamage/stop-using-mvvm-with-swiftui-2c46eb2cc8dc">Stop using MVVM with SwiftUI</a></p><p>→ 제가 처음으로 본 사이트입니다.</p><p>“SwiftUI에서 MVVM 사용 중지”라는 강력한 주제로 저의 관심을 끌었습니다.</p><p>그 글은 꽤나 논리적인 글이라고 생각이 되었다. (진짜 많이 생각을 하게 만드는 글이라고 생각이 됩니다.)</p><p><a href="https://www.reddit.com/r/swift/comments/m60pv7/is_mvvm_an_antipattern_in_swiftui/">Is MVVM an anti-pattern in SwiftUI?</a></p><p>Reddit에서도 issue가 된 내용입니다.</p><h3>여기서부터는 저의 생각이 들어갔습니다.</h3><p>SwiftUI는? 선언형 뷰 프로그래밍 방식입니다.</p><p><strong>선언형 UI에서는 ViewModel은 필요할까</strong> 라는 주제의 여러 글들을 보고 따로 공부와 여러가지 생각을 했습니다.</p><p>옛날에는 “MVVM이 무조건 좋다” 라는 인식이 존재했습니다. 그런데 SwiftUI로 개발을 하면서 억지로 ViewModel을 만드는 상황이 발생하고 있습니다.</p><p>ViewModel은 비즈니스 로직을 분리하는 목적으로 사용할 수 있기 때문에 ViewModel이 완전히 나쁘다 라고 하기는 어려울것 같습니다. 하지만 SwiftUI에서 <strong>View가 자체적으로 Data Binding이 가능한 PropertyWrapper를 지원</strong>하기 때문에 아래와 같이 생각합니다.</p><h3>SwiftUI에서의 View는 이미 View+ViewModel 입니다.</h3><blockquote><p>ViewModel은 원래 상태를 View에 Binding하여 Reactive에 반영하기 위한 목적으로 도입되었지만, 선언적 UI에는 해당 기능이 포함되어 있으므로 ViewModel은 필요하지 않다고 생각합니다.</p></blockquote><h3>우리가 왜 MVVM이 무조건 좋다고 생각했을까요?</h3><p>이것은 기존 사용했던 UIKit을 보고 알 수 있었습니다.</p><p>위에서 대답한 내용이지만 더 설명을 붙이자면, UIKit에서는 View와 ViewModel의 데이터 바인딩을 Observable을 생성하거나 React 구현체인 <strong>RxSwift, Combine을 통해서 Reative하게 뷰에 값을 반영</strong>시켜주고 있었습니다.</p><p>기존 코드에서는 rx를 통해 데이터 바인딩을 해주는 코드를 사용했다. 흔하게 알고 있는 ViewModel을 통해서 뷰와 데이터 바인딩을 해주는 MVVM 구조입니다. ViewModel의 가장 중요한 역할은 데이터 바인딩입니다. 모델과 뷰 사이에 양방향 통신을 해주면서 바인딩을 시켜줍니다.</p><p><strong>하지만 SwiftUI에서는 View에서 다 해줄 수 있기 때문에 필요가 없다는 생각이 됩니다.</strong></p><h3>SwiftUI의 View에서 다 처리하라고?</h3><p>선언형 UI에서 ViewModel의 주요 기능인 데이터 바인딩이 필요없어진것입니다. 그래서 ViewModel이라고 표현하는 것이 어색하다고 생각이 됩니다. SwiftUI에서 MVVM 구조를 도입하는 것이 중간 계층의 레이어를 하나 더 두게 되는 복잡성이 생깁니다. View와 Model 사이에 없어도 되는 ViewModel이 들어가면서 굳이 양방향 데이터 플로우 구조가 되게 해야할까요?</p><p>요즘 핫하고 장점이 많은 단방향 아키텍처의 구조와는 거리가 멉니다.</p><p><strong>애플이 SwiftUI의 섹션에서 State와 Data Flow를 설명하면서도 보여준 예시가 있는데 이 또한 단방향 데이터 플로우를 권장하고 소개</strong>합니다.</p><img width="100%" alt="my-option" src="https://user-images.githubusercontent.com/73165292/196845240-6b0ed156-f79f-4d70-9b13-fcabe343725b.png">
</img><p>상태 즉 State를 관리해줌으로 View를 나타내주면서 모든 흐름이 단방향 구조가 됩니다.</p><p>즉 상태 관리 기반의 단방향 구조라고 볼 수 있다.</p><p><strong>선언형 UI를 사용하는 환경에서는 단방향 데이터 플로우 구조를 지향합니다.</strong></p><p>현재 많은 개발자들이 아키텍처 패턴으로 MVVM을 사용합니다. 많은 자료들이 SwiftUI + MVVM을 사용하는 방법에 대해서 설명을 하고 있습니다. 하지만 저는 이러한 행위는 불필요하다고 생각합니다.</p><p><strong>SwiftUI에서 MVVM을 사용하는 것은 MVVM + MVVM 즉 이중 구현이 된다고 생각이 됩니다.</strong></p><p>저는 이러한 동작이 정말 불필요하다고 생각을 합니다.</p><p>요즘 React나 Vue 또는 Flutter에서도 MVVM이 사용되고 있지 않습니다.</p><p>공통점으로 선언형 UI를 사용한다는 것을 알수 있습니다.</p><h3>그럼 뭘 사용하라는 건가</h3><p>ViewModel을 안사용하면 로직과 UI 분리는 어디서 담당해야할까?</p><p><a href="https://www.youtube.com/watch?v=mTv96vqTDhc&t=756s">Realm</a>에서는 MVI 접근 방식을 지향한다고 합니다.</p><p>원본에서 작성자는 두가지 방법을 제시합니다.</p><ol><li>Model에서 이를 구현한다.</li><li>Flux 개념의 Store로 분리한다.</li></ol><p>1번도 가능은 하나 모델에 비즈니스 로직을 넣으면 단방향 데이터 플로우를 해치게 된다고 생각합니다.</p><p>그래서 2번째 방법인 Flux적인 Store의 개념으로 분리해 거기서 View를 나타낼 상태 즉 State를 관리해주는 것이 적절하다고 생각합니다.</p><h3>글 정리</h3><p>이 글을 적으면서도 참으로 많은 생각을 하게 됩니다.</p><p><strong>선언형 UI를 사용하는 환경에서는 MVI, Flux 정도가 잘 어울린다고 생각이 됩니다.</strong></p><p>MVI는 단방향 아키텍처이며, Flux는 Composit한 조합을 통해 상태 관리를 하는 마찬가지로 단방향 아키텍처입니다.</p><p>우리가 필요한 것들은</p><ul><li>View와 비즈니스 로직 분리</li><li>단방향의 데이터 플로우</li><li>각 View를 통해 나타낼 Component의 설계 및 조합</li><li>Component들의 상태 관리 및 연결</li></ul><p>MVVM 아키텍처는 이런 문제를 해결할 수 없다고 생각합니다.</p><p>저는 이 논쟁에 대해 저의 생각을 답글에 달았습니다.</p><img width="100%" alt="my-option" src="https://user-images.githubusercontent.com/73165292/196845524-2621e870-0fc8-4caf-b636-34aa2a452be9.png">
</img></div></div><div class="nextAndPreview"><div class="preview-container"><a href="/blog/What-is-Swift" class="preview-link"><div class="preview-textdir"><p>Preview Post</p><h3 class="preview-title">Swift란?</h3></div></a></div><div class="next-container"><a href="/blog/What-is-SwiftUI" class="next-link"><div class="next-textdir"><p>Next Post</p><h3 class="next-title">SwiftUI 소개</h3></div></a></div></div><script src="https://utteranc.es/client.js" repo="JiHoonAHN/Blog" issue-term="pathname" label="comments" theme="github-light" crossorigin="anonymous" async></script></article><script src="/static/scripts/Channel_talk/Channel_talk.js"></script></div><footer class="site-footer"><div class="site-footer__inner"><div class="copyright"><div><p>Copyright © <a href="https://github.com/jihoonahn">Jihoonahn</a></p></div><div><p>Made with Swift</p></div></div><div class="social"><ul><li class="social_link"><a href="https://github.com/Jihoonahn"><i class="fa-brands fa-github"></i></a></li><li class="social_link"><a href="https://www.linkedin.com/in/ahnjihoon/"><i class="fa-brands fa-linkedin-in"></i></a></li><li class="social_link"><a href="https://twitter.com/jihoon_dev"><i class="fa-brands fa-twitter"></i></a></li><li class="social_link"><a href="mailto:official@jihoon.me"><i class="fa-solid fa-envelope"></i></a></li><li class="social_link"><a href="https://blog.jihoon.me/feed.rss"><i class="fa-solid fa-rss"></i></a></li></ul></div></div></footer></body></html>