<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/><script src="https://kit.fontawesome.com/662f6d0c39.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/></head><head><meta charset="UTF-8"/><meta name="og:site_name" content="Jihoon.me"/><link rel="canonical" href="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><meta name="twitter:url" content="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><meta name="og:url" content="https://blog.jihoon.me/blog/SwiftUI-Need-MVVM"/><title>SwiftUI에 MVVM이 필요할까요? | Jihoon.me</title><meta name="twitter:title" content="SwiftUI에 MVVM이 필요할까요? | Jihoon.me"/><meta name="og:title" content="SwiftUI에 MVVM이 필요할까요? | Jihoon.me"/><meta name="description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="twitter:description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="og:description" content="요즘 이슈가 되고 있는 내용으로, 과연 SwiftUI에는 MVVM이 필요한지에 대한 저의 주관적인 생각을 담은 글입니다."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/static/styles/default_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/header_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/about_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/post_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/sectionPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/errorPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/footer_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tag_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tagDetail_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/pagination_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/nextAndPreview_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/docsearch_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/home_style.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Jihoon.me"/></head><body><header id="blog-head" class="blog-head outer"><div class="blog-head-inner inner"><div class="blog-head-brand"><div class="menu-icon-container"><div class="menu-icon"><span class="line-1"></span><span class="line-2"></span></div></div><a href="/" class="blog-head-logo"><img src="/static/images/Icon/icon.svg" alt="Jihoonahn Blog"/></a><div class="DocSearch-Button-container"><div id="docsearch" class="blog-search blog-icon-btn"></div></div></div><nav class="blog-head-menu"><ul class="nav"><li><a href="/blog" class="nav-item">Blog</a></li><li><a href="/about" class="nav-item">About</a></li></ul></nav></div><script src="/static/scripts/Header/header-scroll.js"></script><script src="/static/scripts/Header/header-menu.js"></script><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script type="text/javascript" src="/static/scripts/Doc_Search/DocSearch.js"></script></header><div class="wrapper"><article><header class="site-post-head"><div class="site-post-head-image" style="background-image: url(https://user-images.githubusercontent.com/68891494/235434674-872c1cf2-3ed0-4669-be1b-0d9901de98c2.svg"></div></header><div class="site-post-head-title"><h1>SwiftUI에 MVVM이 필요할까요?</h1><section class="site-post-full-meta"><time>2022.09.21</time><span class="date-divider">|</span><a href="https://blog.jihoon.me/tags/swift">Swift. </a><a href="https://blog.jihoon.me/tags/architecture">Architecture. </a><a href="https://blog.jihoon.me/tags/swiftui">SwiftUI. </a><a href="https://blog.jihoon.me/tags/debate">Debate. </a></section></div><div class="site-post-body"><div><p>이번 포스트에서는 하나의 이슈에 대해서 이야기 해보려고 합니다.</p><p>요즘에 주의 깊게 보고 있는 issue 이고, 많은 iOS 개발자들의 의견을 달고 있는 이슈입니다.</p><p>일단 시작해보겠습니다!</p><hr><img width = 100% src = "https://github.com/Jihoonahn/Blog/assets/68891494/cb143b4f-90af-499b-9cd9-6fa2e6ede38c"></img><p><a href="https://developer.apple.com/forums/thread/699003">Stop using MVVM for SwiftUI (apple developer forms)</a> <br/> <a href="https://medium.com/@karamage/stop-using-mvvm-with-swiftui-2c46eb2cc8dc">Stop using MVVM with SwiftUI (medium post)</a></p><p>위 글을 보면 SwiftUI에서 MVVM 사용을 멈추자는 의견을 제시하고 있습니다.</p><p>“SwiftUI에서 MVVM 사용 중지”라는 강력한 주제로 저의 관심을 끌었습니다.</p><p>글은 꽤나 논리적인 글이라고 생각이 되었습니다. SwiftUI내에서 MVVM의 사용을 의심하지 않았던 저에게는 진짜 많은 생각을 하게 만들었었습니다.</p><img width = 100% src = "https://github.com/Jihoonahn/Blog/assets/68891494/ad50e41a-aacd-4e00-a7ce-c747beeb731b"></img><p><a href="https://www.reddit.com/r/swift/comments/m60pv7/is_mvvm_an_antipattern_in_swiftui/">Is MVVM an anti-pattern in SwiftUI?</a></p><p>Reddit에서도 issue가 된 내용입니다.</p><br/><h3>여기서부터는 저의 생각이 들어갔습니다.</h3><p>SwiftUI는? 선언형 뷰 프로그래밍 방식입니다.</p><p><strong>선언형 UI에서는 ViewModel은 필요할까</strong> 라는 주제의 여러 글들을 보고 따로 공부와 여러가지 생각을 했습니다.</p><p>옛날에는 “MVVM이 무조건 좋다” 라는 인식이 존재했습니다. 그런데 SwiftUI로 개발을 하면서 억지로 ViewModel을 만드는 상황이 발생하고 있습니다.</p><p>ViewModel은 비즈니스 로직을 분리하는 목적으로 사용할 수 있기 때문에 ViewModel이 완전히 나쁘다 라고 하기는 어려울것 같습니다.<br>하지만 저는 SwiftUI의 View는 이미 View + ViewModel라고 생각하기 때문에 저는 불필요하다고 생각합니다.<br><br/></p><h3>SwiftUI에서의 View는 이미 View+ViewModel 입니다.</h3><pre><code><span class="keyword">import</span> SwiftUI

<span class="keyword">struct</span> Content: <span class="type">View</span> {
    <span class="keyword">@State var</span> model = <span class="type">Themes</span>.<span class="property">listModel</span>

    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="type">List</span>(model.<span class="property">items</span>, action: model.<span class="property">selectItem</span>) { item <span class="keyword">in</span>
            <span class="type">Image</span>(item.<span class="property">image</span>)
            <span class="type">VStack</span>(alignment: .<span class="dotAccess">leading</span>) {
                <span class="type">Text</span>(item.<span class="property">title</span>)
                <span class="type">Text</span>(item.<span class="property">subtitle</span>)
                    .<span class="call">color</span>(.<span class="dotAccess">gray</span>)
            }
        }
    }
}
</code></pre><p>medium 블로그 글의 예시를 가져왔습니다.</p><p>예시처럼 SwiftUI의 View는 원래부터 데이터 바인딩 기능을 포함하고 있기 때문에, 모델 값을 View에 직접 Reactive하게 반영 할 수 있습니다.</p><p>ViewModel은 원래 상태를 View에 Binding하여 Reactive에 반영하기 위한 목적으로 도입되었습니다.</p><p>하지만 위 예시처럼 선언적 UI에는 해당 기능이 포함되어 있으므로 ViewModel은 필요하지 않다고 생각합니다.</p><br/><h3>우리가 왜 MVVM이 무조건 좋다고 생각했을까요?</h3><p>이것은 기존 사용했던 UIKit을 보고 알 수 있었습니다.</p><p>기존 코드에서는 rx를 통해 데이터 바인딩을 해주는 코드를 사용했습니다. (RxSwift를 사용했을 때) 흔하게 알고 있는 ViewModel을 통해서 뷰와 데이터 바인딩을 해주는 MVVM 구조입니다.</p><p>ViewModel의 가장 중요한 역할은 데이터 바인딩입니다. 모델과 뷰 사이에 양방향 통신을 해주면서 바인딩을 시켜줍니다.</p><p><strong>하지만 SwiftUI에서는 View에서 다 해줄 수 있기 때문에 필요가 없다는 생각이 됩니다.</strong></p><br/><h3>SwiftUI에 MVVM을 사용하는 것은 복잡도를 올리게 됩니다.</h3><p>SwiftUI에서 MVVM을 사용하게 되면, ViewModel이라는 레이어가 추가되기 때문에 복잡도가 증가합니다.</p><p>또한 Data Flow는 ViewModel이 View와 Model의 중간 레이어와 함께 배치되어서 양방향으로 동작하게 됩니다.</p><img width="100%" alt="my-option" src="https://user-images.githubusercontent.com/73165292/196845240-6b0ed156-f79f-4d70-9b13-fcabe343725b.png">
</img><p><a href="https://developer.apple.com/documentation/swiftui/model-data">Apple Document</a></p><p><strong>선언형 UI를 사용하는 환경에서는 단방향 데이터 플로우 구조를 지향합니다.</strong></p><p>현재 많은 개발자들이 아키텍처 패턴으로 MVVM을 사용합니다.</p><p>많은 자료들이 SwiftUI + MVVM을 사용하는 방법에 대해서 설명을 하고 있기도 합니다.</p><br/><h2>이미 Vue나 React, Flutter 모두 MVVM을 사용하고 있지 않습니다.</h2><p>세가지의 모두 공통점으로 선언형 UI를 사용한다는 것을 알 수 있습니다.</p><p>그러면 MVVM 말고 SwiftUI에서 무엇을 사용해야 할까요?</p><h3>그럼 뭘 사용하라는 건가</h3><p>ViewModel을 사용하지 않는다면 비즈니스 로직과 UI 로직을 어떻게 어디서 분리해야 할까요?</p><p><a href="https://www.youtube.com/watch?v=mTv96vqTDhc&t=756s">Realm</a>에서는 MVI 접근 방식을 지향한다고 합니다.</p><p>3가지 방법을 생각해볼 수 있습니다.</p><ol><li>Model에서 이를 구현한다. (MV)</li><li>MVI (Model-View-Intent)</li><li>Flux 개념의 Store로 분리한다.</li></ol><p>첫번째 방법은 선언적 UI에 어울리는 단방향 플로우의 장점을 챙겨가지 못하기 때문에 적합하지 않고,</p><p>그렇기 때문에 MVI 와 Flux 및 Store/Provider 패턴이 적합하다고 생각합니다.</p><hr><p>저는 이 논쟁에 대해 저의 생각을 답글에 달았습니다.</p><img width="100%" alt="my-option" src="https://user-images.githubusercontent.com/73165292/196845524-2621e870-0fc8-4caf-b636-34aa2a452be9.png">
</img></div></div><div class="nextAndPreview"><div class="preview-container"><a href="/blog/What-is-Swift" class="preview-link"><div class="preview-textdir"><p>Preview Post</p><h3 class="preview-title">Swift란?</h3></div></a></div><div class="next-container"><a href="/blog/What-is-SwiftUI" class="next-link"><div class="next-textdir"><p>Next Post</p><h3 class="next-title">SwiftUI 소개</h3></div></a></div></div><script src="https://utteranc.es/client.js" repo="JiHoonAHN/Blog" issue-term="pathname" label="comments" theme="github-light" crossorigin="anonymous" async></script></article><script src="/static/scripts/Channel_talk/Channel_talk.js"></script></div><footer class="site-footer"><div class="site-footer__inner"><div class="copyright"><div><p>Copyright © <a href="https://github.com/jihoonahn">Jihoonahn</a></p></div><div><p>Made with Swift</p></div></div><div class="social"><ul><li class="social_link"><a href="https://github.com/Jihoonahn"><i class="fa-brands fa-github"></i></a></li><li class="social_link"><a href="https://www.linkedin.com/in/ahnjihoon/"><i class="fa-brands fa-linkedin-in"></i></a></li><li class="social_link"><a href="mailto:jihoonahn.dev@gmail.com"><i class="fa-solid fa-envelope"></i></a></li><li class="social_link"><a href="https://blog.jihoon.me/feed.rss"><i class="fa-solid fa-rss"></i></a></li></ul></div></div></footer></body></html>