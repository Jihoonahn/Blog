<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/><script src="https://kit.fontawesome.com/662f6d0c39.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/></head><head><meta charset="UTF-8"/><meta name="og:site_name" content="Jihoonahn Blog"/><link rel="canonical" href="https://blog.jihoon.me/blog/Using-RIBs-Part-1"/><meta name="twitter:url" content="https://blog.jihoon.me/blog/Using-RIBs-Part-1"/><meta name="og:url" content="https://blog.jihoon.me/blog/Using-RIBs-Part-1"/><title>Using RIBs Part 1 | Jihoonahn Blog</title><meta name="twitter:title" content="Using RIBs Part 1 | Jihoonahn Blog"/><meta name="og:title" content="Using RIBs Part 1 | Jihoonahn Blog"/><meta name="description" content="Let's find out how to use RIBs!"/><meta name="twitter:description" content="Let's find out how to use RIBs!"/><meta name="og:description" content="Let's find out how to use RIBs!"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/static/styles/default_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/header_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/about_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/post_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/sectionPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/errorPage_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/footer_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tag_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/tagDetail_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/pagination_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/nextAndPreview_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/docsearch_style.css" type="text/css"/><link rel="stylesheet" href="/static/styles/home_style.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Jihoonahn Blog"/></head><body><header id="blog-head" class="blog-head outer"><div class="blog-head-inner inner"><div class="blog-head-brand"><div class="menu-icon-container"><div class="menu-icon"><span class="line-1"></span><span class="line-2"></span></div></div><a href="/" class="blog-head-logo"><img src="/static/images/Icon/icon.svg" alt="Jihoonahn Blog"/></a><div class="DocSearch-Button-container"><div id="docsearch" class="blog-search blog-icon-btn"></div></div></div><nav class="blog-head-menu"><ul class="nav"><li><a href="/blog" class="nav-item">Blog</a></li><li><a href="/about" class="nav-item">About</a></li></ul></nav></div><script src="/static/scripts/Header/header-scroll.js"></script><script src="/static/scripts/Header/header-menu.js"></script><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script type="text/javascript" src="/static/scripts/DocSearch/DocSearch.js"></script></header><div class="wrapper"><article><header class="site-post-head"><div class="site-post-head-image" style="background-image: url(/static/images/Blog/blog/Using-RIBs-Part-1.svg)"></div></header><div class="site-post-head-title"><h1>Using RIBs Part 1</h1><section class="site-post-full-meta"><time>2022.10.27</time><span class="date-divider">|</span><a href="https://blog.jihoon.me/tags/swift">Swift. </a><a href="https://blog.jihoon.me/tags/architecture">Architecture. </a><a href="https://blog.jihoon.me/tags/ribs">RIBs. </a><a href="https://blog.jihoon.me/tags/actual-use">Actual Use. </a></section></div><div class="site-post-body"><div><p>저번 포스트에서는 RIBs에 대해서 이론을 공부했는데요! 이번 포스트에서는 RIBs의 실전으로 사용해보는 글입니다.</p><p>이전 포스트를 안읽으신 분은 <a href="https://blog.jihoon.me/posts/RIBs-Introduce">이전 글</a>을 읽어주세요!</p><hr><p>RIBs를 시작하기전에 <a href="https://github.com/uber/RIBs/tree/main/ios/tooling">RIBs Template</a>를 설치해주세요!</p><p>Project를 생성해주고, RIBs를 SwiftPackageManager 로 추가해주도록 하겠습니다!</p><img width="100%"  alt="my-option" src = "https://user-images.githubusercontent.com/68891494/198204193-93a77152-76e3-40ee-97ac-a2a0b0e57998.png"></img><p>RIBs를 추가하면 RxSwift도 같이 온다는 것을 볼 수 있습니다.</p><p>RIBs의 Package 파일을 보면 <a href="https://github.com/uber/RIBs/blob/main/Package.swift">RIBs Package</a></p><img width="70%"  alt="my-option" src = "https://user-images.githubusercontent.com/68891494/198204978-6334786b-34c6-4e45-a346-8b5b4b1f87db.png"></img><p>dependencies에서 RxSwift를 가져오는 것을 알 수 있습니다. 그리고 Target을 보면 RIBs가 RxSwift를 사용한다는 것을 확인할 수 있습니다.</p><p>RxSwift에 대한 글은 나중에 자세히 적도록 하겠습니다.</p><hr><p>이제 본론으로 와서 시작하도록 하겠습니다.</p><p>Root 파일부터 만들고 시작하겠습니다. 설치한 Template으로 Root를 생성해줍니다.</p><img width="50%" alt="my-option" src = "https://user-images.githubusercontent.com/68891494/198207168-2af3819a-d4aa-439f-a451-fa9752812598.png"></img><ul><li>저는 제가 직접 커스텀한 Template을 사용해서 조금 다를 수 있습니다.</li></ul><p>생성을 하셨다면 이렇게 파일 4개가 만들어 질겁니다.</p><img width=30% alt="my-option" src = "https://user-images.githubusercontent.com/68891494/198207667-88667f37-ee87-4aa0-a3d4-6e18b6b265d5.png"></img><p>Root 생성후에 화면을 띄우는 작업을 하겠습니다.</p><p>일단 AppComponentFile을 생성해주세요. 그후에 일단 처음에는 빈 component를 생성해주겠습니다.</p><pre><code><span class="keyword">import</span> RIBs

<span class="keyword">class</span> AppComponent : <span class="type">Component</span>&lt;<span class="type">EmptyDependency</span>&gt;, <span class="type">RootDependency</span>{
    <span class="keyword">init</span>(){
        <span class="keyword">super</span>.<span class="keyword">init</span>(dependency: <span class="type">EmptyComponent</span>())
    }
}
</code></pre><p>이후 설정을 위해서 SceneDelegate 파일로 이동해주세요! 그리고 willConnectTo 메서드를</p><pre><code><span class="keyword">private var</span> launchRouter: <span class="type">LaunchRouting</span>?

<span class="keyword">func</span> scene(<span class="keyword">_</span> scene: <span class="type">UIScene</span>, willConnectTo session: <span class="type">UISceneSession</span>, options connectionOptions: <span class="type">UIScene</span>.<span class="type">ConnectionOptions</span>) {
    <span class="keyword">if let</span> windowScene = scene <span class="keyword">as</span>? <span class="type">UIWindowScene</span> {
          <span class="keyword">let</span> window = <span class="type">UIWindow</span>(windowScene: windowScene)
          <span class="keyword">self</span>.<span class="property">window</span> = window

          <span class="keyword">let</span> launchRouter = <span class="type">RootBuilder</span>(dependency: <span class="type">AppComponent</span>()).<span class="call">build</span>()
          <span class="keyword">self</span>.<span class="property">launchRouter</span> = launchRouter
          launchRouter.<span class="call">launch</span>(from: window)
      }
}
</code></pre><p>이렇게 바꾸시면 됩니다. 하지만 현재는 build()부분에서 에러가 발생할 것입니다. build() 에러를 해결하시려면 RootBuilder 파일로 가시면 됩니다.</p><p>처음 Builder에서는</p><pre><code><span class="keyword">func</span> build(withListener listener: <span class="type">RootListener</span>) -&gt; <span class="type">RootRouting</span> {
    <span class="keyword">let</span> component = <span class="type">RootComponent</span>(dependency: dependency)
    <span class="keyword">let</span> viewController = <span class="type">RootViewController</span>()
    <span class="keyword">let</span> interactor = <span class="type">RootInteractor</span>(presenter: viewController)
    interactor.<span class="property">listener</span> = listener
    <span class="keyword">return</span> <span class="type">RootRouter</span>(interactor: interactor, viewController: viewController)
}
</code></pre><p>이렇게 생성되어 있습니다. 하지만 저희는 파라미터를 주지 않을 것입니다.</p><p>해결하는 방법으로 Buildable을</p><pre><code><span class="keyword">protocol</span> RootBuildable: <span class="type">Buildable</span> {
    <span class="keyword">func</span> build() -&gt; <span class="type">LaunchRouting</span>
}
</code></pre><p>이렇게 바꿔주고, Build 메서드도</p><pre><code><span class="keyword">func</span> build() -&gt; <span class="type">LaunchRouting</span> {
    <span class="keyword">let</span> component = <span class="type">RootComponent</span>(dependency: dependency)
    <span class="keyword">let</span> viewController = <span class="type">RootViewController</span>()
    <span class="keyword">let</span> interactor = <span class="type">RootInteractor</span>(presenter: viewController)
    <span class="keyword">return</span> <span class="type">RootRouter</span>(interactor: interactor, viewController: viewController)
}
</code></pre><p>이렇게 바꿔주면 됩니다. 다시 빌드를 돌려보면 RootRouter 부분에 에러가 발생할 것입니다.</p><p>RootRouter파일로 이동후 RootRouter도 기존 ViewableRouter로 되어 있는 부분을</p><pre><code><span class="keyword">final class</span> RootRouter: <span class="type">ViewableRouter</span>&lt;<span class="type">RootInteractable</span>, <span class="type">RootViewControllable</span>&gt;, <span class="type">RootRouting</span> {
</code></pre><p>이렇게 바꿔주면 됩니다.</p><pre><code><span class="keyword">final class</span> RootRouter: <span class="type">LaunchRouter</span>&lt;<span class="type">RootInteractable</span>, <span class="type">RootViewControllable</span>&gt;, <span class="type">RootRouting</span> {
</code></pre><p>이렇게 되면 RIBs 초기 Root 세팅은 완료가 되었습니다!</p><p>RootViewController로 이동해서</p><pre><code><span class="keyword">override func</span> viewDidLoad() {
    <span class="keyword">super</span>.<span class="call">viewDidLoad</span>()
    view.<span class="property">backgroundColor</span> = <span class="type">UIColor</span>.<span class="property">white</span>
}    
</code></pre><p>간단하게 잘 마무리가됬는지 확인하기 위해서 색상을 바꿔보겠습니다.</p><img width="40%" src = "https://user-images.githubusercontent.com/68891494/198225700-53d5af41-9528-418e-b9c8-44c449fed831.png"></img><p>Root 세팅하는것부터 시간이 어마어마하게 드네요 이어서 작성하면 글이 계속 길어질 것 같아서 다음 글에서 이어서 적도록 하겠습니다!</p><h3>RIBs Part1 프로젝트 코드</h3><p>이곳에서 지금까지 작성된 코드를 확인할 수 있어요!</p><p><a href="https://github.com/JiHoonAHN/Blog-Documment/tree/main/Architecture/RIBs/RIBs-1">전체 코드</a></p></div></div><div class="nextAndPreview"><div class="preview-container"><a href="/blog/RIBs-Introduce" class="preview-link"><div class="preview-textdir"><p>Preview Post</p><h3 class="preview-title">RIBs Introduce</h3></div></a></div><div class="next-container"><a href="/blog/Using-RIBs-Part-2" class="next-link"><div class="next-textdir"><p>Next Post</p><h3 class="next-title">Using RIBs Part 2</h3></div></a></div></div><script src="https://utteranc.es/client.js" repo="JiHoonAHN/Blog" issue-term="pathname" label="comments" theme="github-light" crossorigin="anonymous" async></script></article><script src="/static/scripts/Channel_talk/Channel_talk.js"></script></div><footer class="site-footer"><div class="site-footer__inner"><div class="copyright"><div><p>Copyright © <a href="https://github.com/jihoonahn">Jihoonahn</a></p></div><div><p>Made with Swift</p></div></div><div class="social"><ul><li class="social_link"><a href="https://github.com/Jihoonahn"><i class="fa-brands fa-github"></i></a></li><li class="social_link"><a href="https://stackoverflow.com/users/20336807/jihoonahn"><i class="fa-brands fa-stack-overflow"></i></a></li><li class="social_link"><a href="https://www.linkedin.com/in/ahnjihoon/"><i class="fa-brands fa-linkedin-in"></i></a></li><li class="social_link"><a href="https://twitter.com/jihoon_dev"><i class="fa-brands fa-twitter"></i></a></li><li class="social_link"><a href="mailto:official@jihoon.me"><i class="fa-solid fa-envelope"></i></a></li></ul></div></div></footer></body></html>